<!DOCTYPE html>
<html lang="hu" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Felhasználó Profilja</title>
    <link rel="stylesheet" th:href="@{/css/chg_user_style.css}">
</head>
<body>

     
    <header>
        <h1>Felhasználó Profilja</h1>
    </header>
    <form action="/go_to" method="post">
        <input type="hidden" name="oldal" th:value="${user.is_admin} ? 'admin' : 'usermain'">
        <button type="submit">Vissza a fő oldalra</button>
    </form>
    <section>
        <div class="column">
            <h2>Személyes adatok</h2>
            <table>
                <tr>
                    <th>Vezetéknév</th>
                    <td th:text="${user.vezeteknev}"></td>
                </tr>
                <tr>
                    <th>Keresztnév</th>
                    <td th:text="${user.keresztnev}"></td>
                </tr>
                <tr>
                    <th>Email cím</th>
                    <td th:text="${user.email}"></td>
                </tr>
                <tr>
                    <th>Telefonszám</th>
                    <td th:text="${user.telefonszam}"></td>
                </tr>
            </table>
        </div>
        <div class="column">
            <div class="half-column left">
                <h2>Jelszó módosítása</h2>
                <form action="/update_passwd" method="POST">
                    <label for="newPasswd">Új jelszó</label>
                    <input type="password" id="newPasswd" name="newPasswd" required>

                    <button type="submit">Módosítás</button>
                </form>
            </div>
            <div class="half-column">

                <h2>Telefonszám módosítása</h2>
                <form action="/update_phone" method="POST">
                    <label for="current-phone">Jelenlegi telefonszám</label>
                    <input type="tel" id="current-phone" name="current-phone"  th:value="${user.telefonszam}" readonly>
                
                    <label for="newPhone">Új telefonszám</label>
  
                    <input type="tel" id="newPhone" name="newPhone" pattern="\+?[0-9]+" required title="A telefonszám csak számokat és opcionálisan egy '+' jelet tartalmazhat az elején.">
                
                    <button type="submit">Módosítás</button>
                </form>
                
                <form id="updateForm" action="/update_name" method="POST">
                    <label for="current-last-name">Vezetéknév</label>
                    <input type="text" id="current-last-name" name="current-last-name" th:value="${user.vezeteknev}" readonly>
                
                    <label for="new-last-name">Új vezetéknév</label>
                    <input type="text" id="newVezeteknev" name="newVezeteknev" th:value="${user.vezeteknev}">
                
                    <label for="current-first-name">Keresztnév</label>
                    <input type="text" id="current-first-name" name="current-first-name" th:value="${user.keresztnev}" readonly>
                
                    <label for="new-first-name">Új keresztnév</label>
                    <input type="text" id="newKeresztnev" name="newKeresztnev" th:value="${user.keresztnev}">
                
                    <button type="submit">Módosítás</button>
                </form>
                
            </div>
        </div>
    </section>
</body>
</html>
